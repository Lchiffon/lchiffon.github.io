<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="google-site-verification" content="UA-66633229-1" />
  
  <title>我的美食观</title>
  <meta name="author" content="Chiffon Lang">
   <meta name="description" content="为什么我不去卖光碟的店挑电影呢?因为里面没有评分啊

作为一个吃货, 挑选餐厅总是一个艰难而痛苦的决定. 幸好, 现代很多网站提供了各种餐厅的评价分数, 以一个量化的指标来评价餐厅的好坏.
但是, 没有一个网站是以口味来评价餐厅的, 而是以点评来评价, 换句话说, 口味, 环境, 服务, 缺一不可.">
  

  <meta property="og:title" content="我的美食观"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="七风阁"/>
 <meta property="og:image" content="undefined"/>
  
  <link href="/apple-touch-icon-precomposed.png" sizes="180x180" rel="apple-touch-icon-precomposed">
  <link rel="alternate" href="/atom.xml" title="七风阁" type="application/atom+xml">
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/m.min.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>

<body>
  <a id="top"></a>
  <div id='wx_pic' style='display:none;'><img src='/wx_share.png'/></div>
  <div id="main">
    <div class="back">
      <a href="/" class="black-color"><i class="fa fa-times" aria-hidden="true"></i></a>
    </div>
    <div class="behind">

      <div class="description">
        &nbsp;不写R包的分析师不是好全栈
      </div>
    </div>
    <div class="container">
      

  <article class="standard post">
    <div class="title">
      
  
    <h1 class="page-title center">
        我的美食观
    </h1>
  


    </div>
    <div class="meta center">
      
<time datetime="2017-03-03T16:00:00.000Z">
  <i class="fa fa-calendar"></i>&nbsp;
  2017-03-04
</time>



    
    &nbsp;
    <i class="fa fa-tag"></i>&nbsp;
    <a href="/categories/R/">R</a>





    </div>
    <hr>
    <div class="picture-container">
      
    </div>
    <blockquote>
<p>为什么我不去卖光碟的店挑电影呢?<br>因为里面没有评分啊</p>
</blockquote>
<p>作为一个吃货, 挑选餐厅总是一个艰难而痛苦的决定. 幸好, 现代很多网站提供了各种餐厅的评价分数, 以一个量化的指标来评价餐厅的好坏.</p>
<p>但是, 没有一个网站是以口味来评价餐厅的, 而是以点评来评价, 换句话说, 口味, 环境, 服务, 缺一不可.</p>
<p>而且, 不得不承认, 餐厅背后的商业价值才是默认排序最需要考虑的.</p>
<p>对于只在意口味不在意环境和服务的我来说, 经常使用的是口味从高到低来排序, 但这个排序会很自然带来一个问题, 餐厅消费越高, 环境越好, 口味就越棒.</p>
<blockquote>
<p>人们总希望在花了一大笔钱之后不承认自己被坑了…</p>
</blockquote>
<p>所以呢, 我后来开始关注餐厅的分差, 口味环境分差越大, 说明这家店是一个超越了餐厅本身环境的美食.</p>
<p>支持这一论点需要一些数据比如:<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head(data)</div></pre></td></tr></table></figure></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">                          name city avg_price product_rating environment_rating</div><div class="line"><span class="number">1</span>    黑柴日本料理铁板烧(黑柴Ⅰ) 上海       <span class="number">168</span>            <span class="number">8.6</span>                <span class="number">8.5</span></div><div class="line"><span class="number">2</span>         王品牛排(上海松江店) 上海       <span class="number">371</span>            <span class="number">9.1</span>                <span class="number">9.2</span></div><div class="line"><span class="number">3</span>       赞巴拉藏餐(松江万达店) 上海        <span class="number">77</span>            <span class="number">8.8</span>                <span class="number">9.1</span></div><div class="line"><span class="number">4</span>   松荣之风和里烧肉(江学路店) 上海       <span class="number">144</span>            <span class="number">7.9</span>                <span class="number">8.2</span></div><div class="line"><span class="number">5</span>             吃好丸好(外冈店) 上海        <span class="number">12</span>            <span class="number">7.1</span>                <span class="number">7.1</span></div><div class="line"><span class="number">6</span> 陌生人火锅餐厅(开元地中海店) 上海        <span class="number">99</span>            <span class="number">9.0</span>                <span class="number">9.1</span></div></pre></td></tr></table></figure>
<p><del>你问了数据怎么来的我也不会说的</del></p>
<p>最简单的方法是做个回归, 用残差看下各个餐厅是溢价还是折价<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">model = lm(product_rating~environment_rating+avg_price+<span class="number">0</span>,data=data)</div><div class="line">summary(model)</div></pre></td></tr></table></figure></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">...</span></div><div class="line">Coefficients:</div><div class="line">                     Estimate Std. Error  t value Pr(&gt;|t|)    </div><div class="line">environment_rating  <span class="number">1.002e+00</span>  <span class="number">2.889e-05</span> <span class="number">34673.77</span>   &lt;<span class="number">2e-16</span> ***</div><div class="line">avg_price          -<span class="number">1.524e-05</span>  <span class="number">5.622e-07</span>   -<span class="number">27.11</span>   &lt;<span class="number">2e-16</span> ***</div><div class="line">---</div><div class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></div><div class="line"><span class="keyword">...</span></div></pre></td></tr></table></figure>
<p>我还以为有个新参数出来呢, 结果就是1.0, R-square 0.99.</p>
<p>因为某些原因(看官自己脑补), avg_price平均价格不显著, 所以, 不用考虑价格, 直接用口味减环境来评价餐厅就好.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">library</span>(dplyr)</div><div class="line">data %&gt;%</div><div class="line">  mutate(rate = product_rating-environment_rating) %&gt;%   arrange(-rate) %&gt;%</div><div class="line">  filter(city==<span class="string">'上海'</span>) %&gt;%</div><div class="line">  head(<span class="number">10</span>)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">                       name city avg_price product_rating environment_rating rate</div><div class="line">1  八村烧烤海鲜满天红小龙虾 上海        42            7.5                4.2  3.3</div><div class="line">2                    馄饨店 上海        10            4.0                1.0  3.0</div><div class="line">3                    大肠面 上海        27            7.8                5.0  2.8</div><div class="line">4              旧款宁波饭店 上海       120            8.2                5.5  2.7</div><div class="line">5                华华川菜馆 上海        50            7.2                4.6  2.6</div><div class="line">6                康林农家乐 上海        77            8.7                6.2  2.5</div><div class="line">7            D&amp;D Steakhouse 上海       288            8.8                6.4  2.4</div><div class="line">8      老四海鲜城(通北路店) 上海        51            6.3                3.9  2.4</div><div class="line">9  彩虹寿司(东体育会路总店) 上海        43            8.2                5.8  2.4</div><div class="line">10       芷月楼老法师高汤面 上海        33            6.9                4.6  2.3</div></pre></td></tr></table></figure>
<p>这批店有点恐怖, 我还是定下环境上6.5以上的店吧..我对美食的心还不够诚…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data %&gt;%</div><div class="line">  mutate(rate = product_rating-environment_rating) %&gt;%   arrange(-rate) %&gt;%</div><div class="line">  filter(city==&apos;上海&apos; &amp; environment_rating&gt;6.5) %&gt;%</div><div class="line">  head(20)</div></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">                              name city avg_price product_rating environment_rating rate</div><div class="line"><span class="number">1</span>                       佳味海鲜馆 上海       <span class="number">142</span>            <span class="number">9.0</span>                <span class="number">6.8</span>  <span class="number">2.2</span></div><div class="line"><span class="number">2</span>                         凯恩酒家 上海       <span class="number">100</span>            <span class="number">9.1</span>                <span class="number">6.9</span>  <span class="number">2.2</span></div><div class="line"><span class="number">3</span>             粤汕一牛(徐虹中路店) 上海        <span class="number">96</span>            <span class="number">9.0</span>                <span class="number">7.0</span>  <span class="number">2.0</span></div><div class="line"><span class="number">4</span>                           潮汕庄 上海       <span class="number">163</span>            <span class="number">8.6</span>                <span class="number">6.6</span>  <span class="number">2.0</span></div><div class="line"><span class="number">5</span>                 北士大酒店中餐厅 上海       <span class="number">138</span>            <span class="number">8.9</span>                <span class="number">6.9</span>  <span class="number">2.0</span></div><div class="line"><span class="number">6</span>                       谷沙屋面铺 上海        <span class="number">18</span>            <span class="number">8.7</span>                <span class="number">6.7</span>  <span class="number">2.0</span></div><div class="line"><span class="number">7</span>                 蓝帝老上海本帮菜 上海        <span class="number">98</span>            <span class="number">8.5</span>                <span class="number">6.6</span>  <span class="number">1.9</span></div><div class="line"><span class="number">8</span>             上海为民商行清真饭店 上海        <span class="number">23</span>            <span class="number">8.5</span>                <span class="number">6.6</span>  <span class="number">1.9</span></div><div class="line"><span class="number">9</span>                       大块头排档 上海        <span class="number">78</span>            <span class="number">8.5</span>                <span class="number">6.6</span>  <span class="number">1.9</span></div><div class="line"><span class="number">10</span>                顽固亲父串烧酒馆 上海       <span class="number">155</span>            <span class="number">8.8</span>                <span class="number">6.9</span>  <span class="number">1.9</span></div><div class="line"><span class="number">11</span> 钱家?乔老爷铜炉涮锅(内江路总店) 上海        <span class="number">87</span>            <span class="number">9.1</span>                <span class="number">7.2</span>  <span class="number">1.9</span></div><div class="line"><span class="number">12</span>                          蛇王王 上海       <span class="number">164</span>            <span class="number">8.8</span>                <span class="number">7.0</span>  <span class="number">1.8</span></div><div class="line"><span class="number">13</span>                        金芬食府 上海        <span class="number">71</span>            <span class="number">8.8</span>                <span class="number">7.0</span>  <span class="number">1.8</span></div><div class="line"><span class="number">14</span>                      广东生滚粥 上海        <span class="number">21</span>            <span class="number">8.4</span>                <span class="number">6.6</span>  <span class="number">1.8</span></div><div class="line"><span class="number">15</span>              天全鱼庄(零陵路店) 上海        <span class="number">52</span>            <span class="number">8.4</span>                <span class="number">6.6</span>  <span class="number">1.8</span></div><div class="line"><span class="number">16</span>            新苑私房菜(嘉善路店) 上海       <span class="number">128</span>            <span class="number">8.6</span>                <span class="number">6.8</span>  <span class="number">1.8</span></div><div class="line"><span class="number">17</span>                湘粹(南京西路店) 上海        <span class="number">65</span>            <span class="number">8.6</span>                <span class="number">6.8</span>  <span class="number">1.8</span></div><div class="line"><span class="number">18</span>                  兄弟情海鲜烧烤 上海        <span class="number">86</span>            <span class="number">9.1</span>                <span class="number">7.3</span>  <span class="number">1.8</span></div><div class="line"><span class="number">19</span>                      小灯泡烧烤 上海        <span class="number">38</span>            <span class="number">9.0</span>                <span class="number">7.2</span>  <span class="number">1.8</span></div><div class="line"><span class="number">20</span>                  阿新海鲜加工坊 上海       <span class="number">116</span>            <span class="number">9.0</span>                <span class="number">7.2</span>  <span class="number">1.8</span></div></pre></td></tr></table></figure>
<p>哦呀, 不错可以的, 试想一下, 其实每天大家吃的店一般是口味8点几的, 一家店能口味上9但是环境只有6分, 那么, 该是有多好吃….</p>
<p>恩, 可以约起来美食探险了, 前提是要把潮汕牛肉去掉 <del>什么米其林, 美食林,点评米其林的白白</del></p>


  </article>
  </script>
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>

  <!-- JiaThis Button BEGIN -->
      <div class="jiathis_style_24x24" style = 'float:right'>
        <a class="jiathis_button_qzone"></a>
        <a class="jiathis_button_tsina"></a>
        <a class="jiathis_button_tqq"></a>
        <a class="jiathis_button_weixin"></a>
        <a class="jiathis_button_renren"></a>
        <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
        <a class="jiathis_counter_style"></a>
      </div>
      <script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
      <!-- JiaThis Button END -->

      <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="我的美食观" data-title="我的美食观" data-url="langdawei.com/2017/03/04/food.html"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"lchiffon"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
       || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
  <!-- 多说公共JS代码 end -->
  <div class="busuanzi center">
    页阅读量:&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;・&nbsp;
    站访问量:&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;・&nbsp;
    站访客数:&nbsp;<span id="busuanzi_value_site_uv"></span>
  </div>




    </div>
  </div>
   <a id="rocket" href="#top" class=""></a>
   <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  <footer class="page-footer"><div class="clearfix">
</div>
<div class="right-foot container">
    <div class="firstrow">
        <a href="#top" target="_self">
        <i class="fa fa-arrow-right"></i>
        </a>
        © Chiffon 2014-2017
    </div>
    <div class="secondrow">
        <a href="https://github.com/gaoryrt/hexo-theme-pln">
        Theme Pln
        </a>
    </div>
</div>
<div class="clearfix">
</div>
</footer>
  <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="/js/search.js"></script>
<script type="text/javascript">

// disqus scripts


// dropdown scripts
$(".dropdown").click(function(event) {
  var current = $(this);
  event.stopPropagation();
  $(current).children(".dropdown-content")[($(current).children(".dropdown-content").hasClass("open"))?'removeClass':'addClass']("open")
});
$(document).click(function(){
    $(".dropdown-content").removeClass("open");
})

var path = "/search.xml";
searchFunc(path, 'local-search-input', 'local-search-result');

</script>

</body>
</html>
